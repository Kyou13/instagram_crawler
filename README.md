# Scrapyを利用したInstagramのクローリング

## クローラーで出そうなこと、やりたいこと。
- 特定のハッシュタグでの検索。
  - イベントに興味を持っている人、参加者の特定。
  - 画像はいらない。
  - 投稿しているユーザーの情報は欲しい。
    - フォロワー・フォロー(数も)
    - いいねをしているユーザー
- 特定のユーザーの投稿を取得
  - 画像のダウンロード
  - ユーザーの興味を持っているフォロワー
    - いいねを積極的にしている。
    - メッセージを頻繁に送っている。

## Spiderの説明
- getUserData：ユーザーの投稿数・フォロー数・フォロワー数の取得

## 実行
### Dockerの使い方
- コンテナの起動
```
$ docker run -d --name insta_splash -it -p 8050:8050 scrapinghub/splash
```
- コンテナの停止
```
$ docker stop insta_splash
```
### プログラムの実行
```
$ scrapy crawl getUserData
```
- splash-scrapyを使った`$ scrapy shell`の実行
```
scrapy shell '{SPLASH_URL}/render.html?url={クロールしたいURL}/&timeout=10&wait=0.5'
```
SPLASH_URLはsplash-scrapyコンテナの起動時に取得できる。

## 欲しいデータ
- ユーザーから探す
  - ユーザー名
  - フォロワー数
  - 投稿ごとのいいね数
  - 投稿数

## インスタの影響力が強い傾向があるユーザー特徴
- 投稿の世界観が統一されている。
  - 同じフィルター
  - 色
- PR投稿をしている人は信用をなくしていく。（ #pr )
- 企業が求めるインフルエンサーイメージ
　- 世界観に統一がある
  - そこそこフォロワー数の見栄えがいい
  - 過去に#PRをしていない

- インスタは類似性が出るのはフォローしている人の方の可能性もある。
- 過去の#pr投稿を何回行なっているのか。
